AI 幼教软件 MVP 需求 v1.0（3岁｜中文｜家庭私用）

一、产品概述
- 目标：为3岁小男孩提供安全、好玩、可理解的启蒙内容，围绕颜色（红色）、磁力片、积木、音乐四大兴趣主题，融入勇敢（自我效能/复原力）、逻辑（分类/排序/顺序）、爱家人（爸爸/妈妈/爷爷/奶奶）等软能力培养。
- 形式：Web App（移动端优先，支持平板/桌面响应式）。
- 语言与语气：简短句、暖词汇、无评判、无恐吓；全程低龄模式。
- 安全范围：无广告、无外链跳转；图片/文本严格适幼；家长可一键隐藏/删除内容。

二、MVP 范围（Scope）
1) 知识卡（Knowledge Cards）
   - 主题：红色/磁力片/积木/音乐 + 勇敢/逻辑/爱家人（爸爸/妈妈/爷爷/奶奶）
   - 数据量：≥46张（首批已准备，见 content/kids_3yo_dataset.json）
   - 结构：标题、3条“短句知识点”、1条“引导问题”、安全的图片生成提示词、标签
   - 交互：左右滑、点读播报、动手小任务（1个动作/两步指令）

2) 故事生成（Story Maker）
   - 模板：≥24个（含“动作指令在第2段”），每段2-3句，结尾1个理解问题
   - 个性化：兴趣主题 + 低龄词汇 + 家庭角色（爸爸/妈妈/爷爷/奶奶）
   - 输出：文本 + TTS 语音（自然、柔和）

3) AI 百科问答（低龄模式）
   - 约束：1-3句解释 + 1个例子 + 1个安全动作建议；自动过滤成人/危险内容
   - 支持配图：可选调用安全图片生成

4) 家长面板（家长端极简）
   - 指标：学习时长、理解问题正确率、亲子互动次数（感谢/拥抱/小帮手）、新尝试次数
   - 控制：主题开关、屏蔽词、TTS 开关、夜间模式

不在本期（Out of Scope）
- 社交分享、复杂成就系统、多人协作、支付体系、大规模云多租户

三、关键 KPI（v1 目标）
- 学习时长：≥10分钟/日
- 理解正确率（故事/知识卡问答）：≥70%
- 勇敢：每周“新尝试”次数≥2；两步挑战完成率≥70%；“我能做到/慢慢来/深呼吸”口令使用率≥60%
- 逻辑：颜色/形状分类正确率≥80%；大小排序正确率≥70%；两步指令完成率≥75%
- 亲情（爱家人）：亲子互动时长≥10分钟/日；主动感谢/拥抱≥1次/日；“小帮手”任务完成率≥70%
- 安全：不当内容命中率=0；家长一键隐藏响应<1秒
- 性能：LCP<2.5s（3G/低端机尝试维持<3.5s）；交互延迟<100ms；TTS 首次播放<1.5s

四、用户故事与验收
US-1（颜色）：作为孩子，我能看“红色”的知识卡，并完成“指一指/找一找/数一数”的小任务。
- 验收：卡片可左右切换；听读播报；完成后展示鼓励表情；统计完成次数。

US-2（拼搭）：作为孩子，我能用磁力片/积木按提示搭出“墙/桥/小屋/小窗”。
- 验收：卡片提供1个安全动作；展示参考图；记录完成标记。

US-3（勇敢）：遇到新事物时，系统提醒“先深呼吸→慢慢来→再试一次”。
- 验收：知识卡/故事第2段出现动作口令；家长面板有“新尝试”计数。

US-4（逻辑）：我能完成“颜色分类/大小排序/两步指令”的小游戏。
- 验收：内置最简交互（拖拽/点击）；正确有正反馈；错误给温柔引导。

US-5（爱家人）：我能给爸爸妈妈爷爷奶奶“谢谢/拥抱/小帮手/红心卡”。
- 验收：知识卡动作可执行且安全；家长可在面板记录互动次数。

US-6（故事）：我能生成与“红色/磁力片/积木/音乐/家人/勇敢/逻辑”相关的3段短故事，并听到朗读。
- 验收：生成≤3s（网络正常）；每段≤25字；第2段含动作；结尾1题；TTS 可播放暂停。

五、内容与安全规范
- 语言：短句、无评判、避免恐惧和比较；不使用抽象隐喻或复杂设问。
- 安全：回避危险动作（攀爬/吞咽/电器/锋利/火/药品）；“先问可以吗”礼貌提醒。
- 家庭价值：平衡呈现爸爸/妈妈/爷爷/奶奶；鼓励感谢、拥抱、分担小事。
- 图片：简笔风、大形状、无文字、色彩柔和；禁止写实伤害/恐怖元素。

六、模型与路由（可替换实现）
- 文本主模型：gpt-5-chat 或 gpt-4o（中文低龄表述稳）
- 成本备选：deepseek-ai/DeepSeek-V3.1（日常生成/草图）
- 结构化生成控制：gpt-5-auto（当需要严格遵循 JSON/模板）
- 图像生成：gpt-image-1-vip 或 grok-4-imageGen（启用安全提示）
- 嵌入与检索：BAAI/bge-m3（向量）+ BAAI/bge-reranker-v2-m3（重排）
- 安全过滤：关键词+规则模板+必要时重写（见安全重写提示词）

七、提示词模板（可直接投产）
1) 低龄百科问答（中文，3岁）
"""
你是中文幼儿启蒙老师。用适合3岁的话解释：{主题}
要求：
- 1-3句解释 + 1个生活里的例子 + 1个安全的小动作建议
- 用短句、暖词、无评判/比较/恐吓；避免抽象比喻
- 如果话题涉及危险物品/动作，先给出“不能做/要请大人”的提醒
输出：JSON {{"explain":"...","example":"...","action":"..."}}
"""

2) 三段故事（第2段动作口令）
"""
你是中文幼儿讲故事老师。为3岁小朋友写一个关于“{主题}”的温柔故事。
约束：3段，每段2-3句；第2段加入“{动作口令}”；结尾给1个理解问题。
语言：短句、暖词、避免恐惧/危险；不使用复杂隐喻。
输出：JSON {{"segments":["...","...","..."],"question":"..."}}
"""

3) 图片生成（安全简笔风）
"""
生成儿童简笔插画：{主体描述}；大形状；柔和色；无文字；无尖锐/危险物；构图清晰；适合3岁。
"""

4) 家长强化引导（亲情/礼貌/小帮手）
"""
给家长1-2句暖提示，鼓励孩子：感谢/拥抱/递物/讲小事。
输出语气积极，避免命令式。
"""

5) 安全重写（当内容可能不适幼）
"""
将下面文本重写为适合3岁儿童：
《原文》：{文本}
《要求》：短句；替换危险/成人内容；保留核心知识；给出1个温柔动作。
"""

八、数据模型（JSON）
- knowledge_cards：[{ id, category, title, lines[3], question, image_prompt, tags[] }]
- story_prompts：[{ id, category, title, prompt, segments(=3), action_in_segment2, comprehension_question, image_prompt }]
- 数据文件：/workspace/content/kids_3yo_dataset.json（首批 46 张知识卡 + 24 个故事模板）

九、度量与埋点
- 基础：页面打开/停留时长、卡片完成、故事理解题正确、家长互动（感谢/拥抱/小帮手）、“新尝试”次数
- 性能：LCP、交互延迟、TTS 首帧时间、图片生成时长
- 安全：敏感词命中、被隐藏内容计数

十、非功能性
- 响应式：375/768/1280 三断点；触控优先；48px 触达区域
- 可访问性：语义标签、可见焦点、键盘可达、图像替代文本
- i18n：文案从词库加载；未来支持中英切换
- 隐私：仅本地存储学习记录；不收集个人敏感信息

十一、发布与验收
- 发布目标：单机 Docker 或静态托管 + 后端 API（FastAPI）
- 验收清单：
  1) 首批内容可浏览与点读
  2) 故事可生成、可播放、包含动作与问题
  3) 家长面板可查看四类指标与开关
  4) 安全词与重写策略生效
  5) 性能指标达标（LCP/交互/TTS）

附录 A：首批内容统计
- 知识卡：46（红6 / 磁力片6 / 积木6 / 音乐6 / 勇敢4 / 逻辑4 / 爱妈妈4 / 爱爸爸4 / 爱爷爷奶奶4 / 爱家人2）
- 故事模板：24（颜色2 / 磁力2 / 积木2 / 音乐2 / 混合4 / 勇敢2 / 逻辑2 / 爱妈妈2 / 爱爸爸2 / 爱爷爷奶奶2 / 爱家人2）

附录 B：示例运行流程
1) 进入“今天推荐”：2张知识卡 + 1个故事 + 1个亲情行动
2) 孩子完成动作后自动正反馈 + 家长提示
3) 记录指标并在家长面板可见

